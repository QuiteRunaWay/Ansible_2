# Домашнее задание к занятию "08.02 Работа с Playbook"

## Подготовка к выполнению

1. Создайте свой собственный (или используйте старый) публичный репозиторий на github с произвольным именем.
2. Скачайте [playbook](./playbook/) из репозитория с домашним заданием и перенесите его в свой репозиторий.
3. Подготовьте хосты в соответствии с группами из предподготовленного playbook.

## Основная часть

1. Приготовьте свой собственный inventory файл `prod.yml`.
### Ответ: файл подготовлен. Для упрощения работы испльзовалась в качестве гостевой ОС - Docker контейнер с CentOS7

![image](https://user-images.githubusercontent.com/92969676/165459143-083f4433-21a6-4aee-b312-fda2d92d1fef.png)

![image](https://user-images.githubusercontent.com/92969676/165460149-bb82217c-bf84-41a0-840b-7b8c3f78a3e6.png)


2. Допишите playbook: нужно сделать ещё один play, который устанавливает и настраивает [vector](https://vector.dev).
### Ответ:


3. При создании tasks рекомендую использовать модули: `get_url`, `template`, `unarchive`, `file`.
### Ответ:

4. Tasks должны: скачать нужной версии дистрибутив, выполнить распаковку в выбранную директорию, установить vector.
### Ответ:

5. Запустите `ansible-lint site.yml` и исправьте ошибки, если они есть.
### Ответ:

6. Попробуйте запустить playbook на этом окружении с флагом `--check`.
### Ответ:

7. Запустите playbook на `prod.yml` окружении с флагом `--diff`. Убедитесь, что изменения на системе произведены.
### Ответ:

8. Повторно запустите playbook с флагом `--diff` и убедитесь, что playbook идемпотентен.
### Ответ:

9. Подготовьте README.md файл по своему playbook. В нём должно быть описано: что делает playbook, какие у него есть параметры и теги.
### Ответ:

10. Готовый playbook выложите в свой репозиторий, поставьте тег `08-ansible-02-playbook` на фиксирующий коммит, в ответ предоставьте ссылку на него.

